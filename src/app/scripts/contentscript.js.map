{"version":3,"sources":["contentscript.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["/*\n * Copy As Markdown.\n *\n * User: Johnny Fee\n * Date: 2014-01-29\n * Time: 23:41:10\n * Contact: djohnnyfee@gmail.com\n */\n\n'use strict';\n\n(function () {\n    'use strict';\n\n    function toTitleCase(str) {\n        return str.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        });\n    }\n\n    function escapeRegExp(string) {\n        return string.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    }\n\n    function replaceAll(string, find, replace) {\n        return string.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n    }\n\n    function getProductDetail() {\n        console.log('===============');\n        var productName = $('#productName').val();\n        var content = replaceAll(template, '{productName}', productName);\n\n        var productKeyword = $('#productKeyword').val();\n        content = replaceAll(template, '{productKeyword}', productKeyword);\n\n        var keywords2 = $('#keywords2').val();\n        var keywords3 = $('#keywords3').val();\n        var moreKeywords = '';\n        if (keywords2) {\n            moreKeywords = keywords2;\n        }\n\n        if (keywords3) {\n            moreKeywords += ', ' + keywords3;\n        }\n        content = replaceAll(template, '#moreKeywords#', moreKeywords);\n\n        var productKeywordTitleCase = toTitleCase(productKeyword);\n        content = replaceAll(template, '#productKeywordTitleCase#', productKeywordTitleCase);\n\n        // 型号\n        var modelNumber = $('input[name=\"sysAttrValueIdAndValue3\"]').val();\n        content = replaceAll(template, '#modelNumber#', modelNumber);\n\n        // 颜色\n        var color = $('[value=\"Color\"]').next().val();\n        content = replaceAll(template, '#color#', color);\n\n        // Size\n        var size = $('[value=\"Size(inch)\"]').next().val();\n        content = replaceAll(template, '#size#', size);\n\n        // Material\n        var material = $('[value=\"Material\"]').next().val();\n        content = replaceAll(template, '#material#', material);\n\n        console.log(content);\n        return content;\n\n    }\n\n    // Listen for the content script to send a message to the background page.\n    // 收取后台页面的消息。\n    chrome.runtime.onMessage.addListener(function onMessage(request, sender, sendResponse) {\n        // 收到的消息指令为\n        if (request.action !== 'A-D') {\n            return;\n        }\n\n        // 准备 Product 内容\n        var content = getProductDetail();\n\n        // 让后台将内容拷贝到剪切板。\n        chrome.runtime.sendMessage({\n            action: 'copytoclipboard',\n            content: content\n        }, function (response) {\n            if (response.success) {\n                sendResponse({\n                    sucess: true\n                });\n                return;\n            }\n        });\n\n        sendResponse({\n            sucess: true\n        });\n    });\n})();\n//# sourceMappingURL=contentscript.js.map\n"]}