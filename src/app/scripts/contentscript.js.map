{"version":3,"sources":["contentscript.js"],"names":[],"mappings":"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","file":"contentscript.js","sourcesContent":["/*\n * Copy As Markdown.\n *\n * User: Johnny Fee\n * Date: 2014-01-29\n * Time: 23:41:10\n * Contact: djohnnyfee@gmail.com\n */\n\n'use strict';\n\n(function () {\n    'use strict';\n\n    function toTitleCase(str) {\n        return str.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n        });\n    }\n\n    function escapeRegExp(string) {\n        return string.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    }\n\n    function replaceAll(string, find, replace) {\n        return string.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n    }\n\n    function getProductDetail() {\n        var productName = $('#productName').val();\n        var content = replaceAll(template, '#productName#', productName);\n\n        var productKeyword = $('#productKeyword').val();\n        content = replaceAll(content, '#productKeyword#', productKeyword);\n\n        var keywords2 = $('#keywords2').val();\n        var keywords3 = $('#keywords3').val();\n        var moreKeywords = '';\n        if (keywords2) {\n            moreKeywords = ', ' + keywords2;\n        }\n\n        if (keywords3) {\n            moreKeywords += ', ' + keywords3;\n        }\n        content = replaceAll(content, '#moreKeywords#', moreKeywords);\n\n        var productKeywordTitleCase = toTitleCase(productKeyword);\n        content = replaceAll(content, '#productKeywordTitleCase#', productKeywordTitleCase);\n\n        // 型号\n        var modelNumber = $('input[name=\"sysAttrValueIdAndValue3\"]').val();\n        content = replaceAll(content, '#modelNumber#', modelNumber);\n\n        // 颜色\n        var color = $('[value=\"Color\"]').next().val();\n        color = replaceAll(color, ' or Customized', '');\n        content = replaceAll(content, '#color#', color);\n\n        // Size\n        var size = $('[value=\"Size(inch)\"]').next().val();\n        content = replaceAll(content, '#size#', size);\n\n        // Material\n        var material = $('[value=\"Material\"]').next().val();\n        content = replaceAll(content, '#material#', material);\n\n        return content;\n    }\n\n    function productName2TitleCase() {\n        // 产品名称 Title Case\n        var productName = $('#productName').val();\n        productName = toTitleCase(productName)\n        $('#productName').val(productName);\n\n        var productKeyword = $('#productKeyword').val();\n        var productKeywordTitleCase = toTitleCase(productKeyword);\n\n        $('[value=\"Product Name\"]').next().val(productName);\n\n        $('[value=\"Style\"]').next().val(productKeywordTitleCase);\n        $('[value=\"Type\"]').next().val(productKeywordTitleCase);\n\n        // 修改包装\n        $('#packagingDesc').val('1 ' + productKeyword + ' in OPP bag; 20 pieces in one master carton.');\n\n    }\n\n    // 收取后台页面的消息。\n    chrome.runtime.onMessage.addListener(function onMessage(request, sender, sendResponse) {\n        // 收到的消息指令为\n        if (request.action === 'A-D') {\n            // 准备 Product 内容\n            var content = getProductDetail();\n\n            // 让后台将内容拷贝到剪切板。\n            chrome.runtime.sendMessage({\n                action: 'copytoclipboard',\n                content: content\n            }, function (response) {\n                if (response.success) {\n                    sendResponse({\n                        sucess: true\n                    });\n                }\n            });\n        } else if (request.action === 'A-T') {\n            // 准备 Product 内容\n            productName2TitleCase();\n        }else if (request.action === 'A-I') {\n            // 修改产品详情中图片的 ALT 属性。\n            var productContent = $('textarea');\n        }\n\n    });\n})();\n//# sourceMappingURL=contentscript.js.map\n//# sourceMappingURL=contentscript.js.map\n"]}